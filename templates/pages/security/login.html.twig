{% extends 'base.html.twig' %}

{% block title %}Cookable - Connexion{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="mt-4 mb-4 text-center">Me Connecter</h1>

        {% if error %}
            <div class="alert alert-dismissible alert-danger">
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                <strong>Erreur : </strong> {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}
        {% for message in app.flashes('success') %}
            <div class="alert alert-dismissible alert-success">
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                <strong>Succ√®s : </strong> {{ message }}
            </div>
        {% endfor %}
        {% for message in app.flashes('danger') %}
            <div class="alert alert-dismissible alert-danger">
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                <strong>Erreur : </strong> {{ message }}
            </div>
        {% endfor %}
        {% for message in app.flashes('warning') %}
            <div class="alert alert-dismissible alert-warning">
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                <strong>Attention : </strong> {{ message }}
            </div>
        {% endfor %}
        <div class="form-group row">
            <form class="col-md-6 mx-auto" action="{{ path("auth.login") }}" method="post">
                <fieldset>
                    <div>
                        <label for="username" class="form-label mt-4">Email :</label>
                        <input
                                type="email"
                                class="form-control"
                                id="username"
                                name="_username"
                                value="{{ username }}"
                                aria-describedby="emailHelp"
                                placeholder="jean.dupond@mail.fr"
                        >
                        <small id="emailHelp" class="form-text text-muted">Nous ne partageons votre email avec
                                                                           personne.</small>
                    </div>
                    <div>
                        <label for="password" class="form-label mt-4">Mot de passe :</label>
                        <input
                                type="password"
                                class="form-control"
                                id="password"
                                name="_password"
                                placeholder="*********"
                        >
                    </div>
                </fieldset>
                <button type="submit" class="btn btn-primary mt-5">Connexion</button>
                <div class="container mt-2 text-end">
                    <p>Pas encore de compte ?
                        <a href="{{ path('auth.register') }}" class="text-small">Inscription</a>
                    </p>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
